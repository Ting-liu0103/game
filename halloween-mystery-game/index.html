<!DOCTYPE html>
<html lang="zh-Hant" prefix="og: http://ogp.me/ns#">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>è¬è–å¤œé©šè®Šï¼šåŒ–è£èˆæœƒè¬æ¡ˆ - æ²‰æµ¸å¼æ¨ç†è§£è¬éŠæˆ²</title>
  
  <!-- SEO å„ªåŒ–å…ƒæ•¸æ“š -->
  <meta name="description" content="é«”é©—é©šå¿ƒå‹•é­„çš„è¬è–ç¯€æ¨ç†è§£è¬éŠæˆ²ï¼Œåœ¨ç¥ç§˜çš„èŠåœ’åŒ–è£èˆæœƒä¸­æ­é–‹éš±è—çš„çœŸç›¸ã€‚å¤šé‡çµå±€ã€è±å¯Œç·šç´¢ã€æ²‰æµ¸å¼é«”é©—ç­‰ä½ ä¾†æŒ‘æˆ°ï¼">
  <meta name="keywords" content="è¬è–ç¯€éŠæˆ²,æ¨ç†éŠæˆ²,è§£è¬éŠæˆ²,åŒ–è£èˆæœƒ,æ‡¸ç–‘æ¨ç†,äº’å‹•å°èªª,æ–‡å­—å†’éšª,è¬è–å¤œ,ææ€–éŠæˆ²">
  <meta name="author" content="è¬è–å¤œé©šè®Šè£½ä½œåœ˜éšŠ">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#1a0d00">
  <meta name="color-scheme" content="dark light">
  
  <!-- Open Graph å…ƒæ•¸æ“š -->
  <meta property="og:title" content="è¬è–å¤œé©šè®Šï¼šåŒ–è£èˆæœƒè¬æ¡ˆ">
  <meta property="og:description" content="é«”é©—é©šå¿ƒå‹•é­„çš„è¬è–ç¯€æ¨ç†è§£è¬éŠæˆ²ï¼Œåœ¨ç¥ç§˜çš„èŠåœ’åŒ–è£èˆæœƒä¸­æ­é–‹éš±è—çš„çœŸç›¸">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://halloween-mystery.game">
  <meta property="og:image" content="assets/images/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale" content="zh_TW">
  <meta property="og:site_name" content="è¬è–å¤œé©šè®Š">
  
  <!-- Twitter Card å…ƒæ•¸æ“š -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="è¬è–å¤œé©šè®Šï¼šåŒ–è£èˆæœƒè¬æ¡ˆ">
  <meta name="twitter:description" content="é«”é©—é©šå¿ƒå‹•é­„çš„è¬è–ç¯€æ¨ç†è§£è¬éŠæˆ²">
  <meta name="twitter:image" content="assets/images/twitter-card.jpg">
  
  <!-- çµæ§‹åŒ–æ•¸æ“š -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Game",
    "name": "è¬è–å¤œé©šè®Šï¼šåŒ–è£èˆæœƒè¬æ¡ˆ",
    "description": "é«”é©—é©šå¿ƒå‹•é­„çš„è¬è–ç¯€æ¨ç†è§£è¬éŠæˆ²ï¼Œåœ¨ç¥ç§˜çš„èŠåœ’åŒ–è£èˆæœƒä¸­æ­é–‹éš±è—çš„çœŸç›¸",
    "genre": ["æ¨ç†", "è§£è¬", "ææ€–", "äº’å‹•å°èªª"],
    "gamePlatform": "Web Browser",
    "applicationCategory": "Game",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "TWD"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "156"
    }
  }
  </script>
  
  <!-- é è¼‰å…¥é—œéµè³‡æº -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;500;700&family=Creepster&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;500;700&family=Creepster&display=swap"></noscript>
  
  <!-- éŠæˆ²åœ–æ¨™ -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-touch-icon.png">
  <link rel="mask-icon" href="assets/icons/safari-pinned-tab.svg" color="#1a0d00">
  
  <!-- PWA æ”¯æ´ -->
  <link rel="manifest" href="manifest.json">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="è¬è–å¤œé©šè®Š">
  <meta name="msapplication-TileColor" content="#1a0d00">
  <meta name="msapplication-config" content="browserconfig.xml">
  
  <!-- æ¨£å¼è¡¨ -->
  <link rel="preload" href="styles/critical.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="stylesheet" href="styles/main.css" media="print" onload="this.media='all'">
  <noscript>
    <link rel="stylesheet" href="styles/critical.css">
    <link rel="stylesheet" href="styles/main.css">
  </noscript>
  
  <!-- é è¼‰å…¥é—œéµéŸ³æ•ˆ -->
  <link rel="preload" href="assets/sounds/thunder.mp3" as="audio" crossorigin>
  <link rel="preload" href="assets/sounds/ambient.mp3" as="audio" crossorigin>
  
  <!-- å®‰å…¨æ€§æ¨™é ­ -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' fonts.googleapis.com; font-src 'self' fonts.gstatic.com; media-src 'self'; img-src 'self' data:;">
</head>

<body class="game-body" data-theme="dark">
  <!-- è·³éé€£çµï¼ˆç„¡éšœç¤™åŠŸèƒ½ï¼‰ -->
  <a href="#main-content" class="skip-link">è·³åˆ°ä¸»è¦å…§å®¹</a>
  
  <!-- è¼‰å…¥ç•«é¢ -->
  <div id="loading-screen" class="loading-screen" role="dialog" aria-labelledby="loading-title" aria-describedby="loading-description">
    <div class="loading-content">
      <div class="pumpkin-loader" aria-hidden="true">ğŸƒ</div>
      <h2 id="loading-title">è¼‰å…¥ä¸­...</h2>
      <div class="loading-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        <div class="loading-progress" style="width: 0%"></div>
      </div>
      <p id="loading-description" class="loading-text">æ­£åœ¨æº–å‚™é©šæ‚šé«”é©—...</p>
    </div>
  </div>

  <!-- ä¸»éŠæˆ²ç•Œé¢ -->
  <div id="game-container" class="game-container hidden" role="application" aria-label="è¬è–å¤œé©šè®ŠéŠæˆ²">
    <!-- éŠæˆ²æ¨™é¡Œå€ -->
    <header class="game-header" role="banner">
      <h1 class="game-title">
        <span class="title-main">è¬è–å¤œé©šè®Š</span>
        <span class="title-sub">åŒ–è£èˆæœƒè¬æ¡ˆ</span>
      </h1>
      
      <!-- éŠæˆ²ç‹€æ…‹é¡¯ç¤º -->
      <div class="game-status" role="status" aria-live="polite">
        <div class="status-item">
          <span class="status-icon" aria-hidden="true">ğŸ </span>
          <span id="current-location" aria-label="ç•¶å‰ä½ç½®">æº–å‚™é–‹å§‹</span>
        </div>
        <div class="status-item">
          <span class="status-icon" aria-hidden="true">ğŸ”</span>
          <span id="clues-count" aria-label="æ”¶é›†ç·šç´¢æ•¸é‡">ç·šç´¢: 0/4</span>
        </div>
        <div class="status-item">
          <span class="status-icon" aria-hidden="true">ğŸ’¡</span>
          <span id="hints-remaining" aria-label="å‰©é¤˜æç¤ºæ¬¡æ•¸">æç¤º: 3/3</span>
        </div>
        <div class="status-item">
          <span class="status-icon" aria-hidden="true">ğŸ¯</span>
          <span id="score-display" aria-label="ç•¶å‰åˆ†æ•¸">åˆ†æ•¸: 0</span>
        </div>
      </div>
    </header>

    <!-- ä¸»è¦éŠæˆ²å€åŸŸ -->
    <main id="main-content" class="game-main" role="main">
      <!-- éŠæˆ²æ—¥èªŒå€ -->
      <section class="log-container" aria-labelledby="log-title">
        <h2 id="log-title" class="visually-hidden">éŠæˆ²æ—¥èªŒ</h2>
        <div id="log" class="game-log" role="log" aria-live="polite" aria-atomic="false" tabindex="0"></div>
        
        <!-- å¿«é€Ÿå‹•ä½œæŒ‰éˆ• -->
        <div class="quick-actions" role="toolbar" aria-label="å¿«é€Ÿå‹•ä½œ">
          <button id="hint-btn" class="quick-btn" type="button" aria-describedby="hint-tooltip">
            <span class="btn-icon" aria-hidden="true">ğŸ’¡</span>
            <span class="btn-text">æç¤º</span>
          </button>
          <div id="hint-tooltip" class="tooltip" role="tooltip">ç²å–ç•¶å‰é—œå¡çš„æç¤º</div>
          
          <button id="status-btn" class="quick-btn" type="button" aria-describedby="status-tooltip">
            <span class="btn-icon" aria-hidden="true">ğŸ“Š</span>
            <span class="btn-text">ç‹€æ…‹</span>
          </button>
          <div id="status-tooltip" class="tooltip" role="tooltip">æŸ¥çœ‹è©³ç´°éŠæˆ²ç‹€æ…‹</div>
          
          <button id="save-btn" class="quick-btn" type="button" aria-describedby="save-tooltip">
            <span class="btn-icon" aria-hidden="true">ğŸ’¾</span>
            <span class="btn-text">ä¿å­˜</span>
          </button>
          <div id="save-tooltip" class="tooltip" role="tooltip">ä¿å­˜ç•¶å‰éŠæˆ²é€²åº¦</div>
          
          <button id="load-btn" class="quick-btn" type="button" aria-describedby="load-tooltip">
            <span class="btn-icon" aria-hidden="true">ğŸ“‚</span>
            <span class="btn-text">è¼‰å…¥</span>
          </button>
          <div id="load-tooltip" class="tooltip" role="tooltip">è¼‰å…¥å·²ä¿å­˜çš„éŠæˆ²</div>
        </div>
      </section>

      <!-- è¼¸å…¥å€åŸŸ -->
      <section class="input-container" aria-labelledby="input-title">
        <h2 id="input-title" class="visually-hidden">éŠæˆ²è¼¸å…¥</h2>
        <div class="input-wrapper">
          <label for="input" class="visually-hidden">è¼¸å…¥éŠæˆ²æŒ‡ä»¤æˆ–èª¿æŸ¥å…§å®¹</label>
          <input 
            id="input" 
            type="text"
            class="game-input" 
            placeholder="è¼¸å…¥æŒ‡ä»¤æˆ–èª¿æŸ¥å…§å®¹..." 
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
            maxlength="100"
            aria-label="éŠæˆ²è¼¸å…¥æ¡†"
            aria-describedby="input-help"
            role="textbox"
          />
          <div id="input-help" class="visually-hidden">
            è¼¸å…¥æ–‡å­—é€²è¡Œèª¿æŸ¥ï¼Œæˆ–ä½¿ç”¨æ–œç·šé–‹é ­çš„æŒ‡ä»¤å¦‚ /startã€/hintã€/status
          </div>
          
          <button id="send" class="send-btn" type="button" aria-label="é€å‡ºæŒ‡ä»¤">
            <span class="send-icon" aria-hidden="true">â¤</span>
          </button>
        </div>
        
        <!-- è¼¸å…¥å»ºè­° -->
        <div id="input-suggestions" class="input-suggestions hidden" role="listbox" aria-label="è¼¸å…¥å»ºè­°">
          <!-- å‹•æ…‹ç”Ÿæˆå»ºè­°é …ç›® -->
        </div>
      </section>
    </main>

    <!-- å´é‚Šæ¬„ -->
    <aside class="game-sidebar" role="complementary" aria-label="éŠæˆ²è³‡è¨Šé¢æ¿">
      <!-- è§’è‰²è³‡è¨Š -->
      <section class="character-panel" aria-labelledby="characters-title">
        <h3 id="characters-title">ä¸»è¦è§’è‰²</h3>
        <div class="character-list" role="list">
          <div class="character-item" data-character="charles" role="listitem">
            <div class="character-avatar" aria-hidden="true">ğŸ‘¤</div>
            <div class="character-info">
              <div class="character-name">Charles Whitmore</div>
              <div class="character-status" aria-label="è§’è‰²ç‹€æ…‹">å¯ç–‘</div>
            </div>
          </div>
          <div class="character-item" data-character="victoria" role="listitem">
            <div class="character-avatar" aria-hidden="true">ğŸ‘©</div>
            <div class="character-info">
              <div class="character-name">Victoria Sterling</div>
              <div class="character-status" aria-label="è§’è‰²ç‹€æ…‹">å—å®³è€…</div>
            </div>
          </div>
          <div class="character-item" data-character="edward" role="listitem">
            <div class="character-avatar" aria-hidden="true">ğŸ§”</div>
            <div class="character-info">
              <div class="character-name">Edward Lancaster</div>
              <div class="character-status" aria-label="è§’è‰²ç‹€æ…‹">ç„¡è¾œ</div>
            </div>
          </div>
          <div class="character-item" data-character="mysterious" role="listitem">
            <div class="character-avatar" aria-hidden="true">ğŸ­</div>
            <div class="character-info">
              <div class="character-name">ç¥ç§˜è³“å®¢</div>
              <div class="character-status" aria-label="è§’è‰²ç‹€æ…‹">æœªçŸ¥</div>
            </div>
          </div>
        </div>
      </section>

      <!-- æ”¶é›†çš„ç·šç´¢ -->
      <section class="clues-panel" aria-labelledby="clues-title">
        <h3 id="clues-title">æ”¶é›†çš„ç·šç´¢</h3>
        <div id="clues-list" class="clues-list" role="list" aria-live="polite">
          <div class="no-clues" role="listitem">å°šæœªç™¼ç¾ç·šç´¢...</div>
        </div>
      </section>

      <!-- éŠæˆ²é€²åº¦ -->
      <section class="progress-panel" aria-labelledby="progress-title">
        <h3 id="progress-title">èª¿æŸ¥é€²åº¦</h3>
        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-describedby="progress-description">
          <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
        </div>
        <div id="progress-description" class="progress-text">
          ç¬¬ <span id="progress-current">0</span> é—œ / å…± <span id="progress-total">7</span> é—œ
        </div>
      </section>

      <!-- æˆå°±ç³»çµ± -->
      <section class="achievements-panel" aria-labelledby="achievements-title">
        <h3 id="achievements-title">è§£é–æˆå°±</h3>
        <div id="achievements-list" class="achievements-list" role="list">
          <div class="no-achievements" role="listitem">å°šæœªè§£é–ä»»ä½•æˆå°±...</div>
        </div>
      </section>
    </aside>
  </div>

  <!-- è¨­å®šé¢æ¿ -->
  <div id="settings-panel" class="settings-panel hidden" role="dialog" aria-labelledby="settings-title" aria-modal="true">
    <div class="settings-content">
      <header class="settings-header">
        <h2 id="settings-title">éŠæˆ²è¨­å®š</h2>
        <button id="close-settings" class="close-btn" type="button" aria-label="é—œé–‰è¨­å®šé¢æ¿">
          <span aria-hidden="true">âœ•</span>
        </button>
      </header>
      
      <form class="settings-form" role="form">
        <fieldset class="setting-group">
          <legend>éŸ³æ•ˆè¨­å®š</legend>
          
          <label class="setting-label">
            <input type="checkbox" id="sound-toggle" checked aria-describedby="sound-help">
            <span class="checkmark" aria-hidden="true"></span>
            <span class="label-text">éŸ³æ•ˆ</span>
          </label>
          <div id="sound-help" class="setting-help">é–‹å•Ÿæˆ–é—œé–‰éŠæˆ²éŸ³æ•ˆ</div>
          
          <label class="setting-label">
            <input type="checkbox" id="music-toggle" checked aria-describedby="music-help">
            <span class="checkmark" aria-hidden="true"></span>
            <span class="label-text">èƒŒæ™¯éŸ³æ¨‚</span>
          </label>
          <div id="music-help" class="setting-help">é–‹å•Ÿæˆ–é—œé–‰èƒŒæ™¯éŸ³æ¨‚</div>
          
          <label class="setting-label">
            <span class="label-text">éŸ³é‡: <span id="volume-value" aria-live="polite">70</span>%</span>
            <input type="range" id="volume-slider" min="0" max="100" value="70" step="5" 
                   aria-label="èª¿æ•´éŸ³é‡" aria-describedby="volume-help">
          </label>
          <div id="volume-help" class="setting-help">èª¿æ•´æ•´é«”éŸ³é‡å¤§å°</div>
        </fieldset>
        
        <fieldset class="setting-group">
          <legend>éŠæˆ²è¨­å®š</legend>
          
          <label class="setting-label">
            <span class="label-text">é›£åº¦</span>
            <select id="difficulty-select" aria-describedby="difficulty-help">
              <option value="easy">ç°¡å–® - æ›´å¤šæç¤ºï¼Œè¼ƒå°‘éŒ¯èª¤æ‡²ç½°</option>
              <option value="normal" selected>æ™®é€š - æ¨™æº–éŠæˆ²é«”é©—</option>
              <option value="hard">å›°é›£ - æ›´å°‘æç¤ºï¼Œæ›´å¤šæŒ‘æˆ°</option>
            </select>
          </label>
          <div id="difficulty-help" class="setting-help">é¸æ“‡é©åˆçš„éŠæˆ²é›£åº¦</div>
          
          <label class="setting-label">
            <input type="checkbox" id="auto-save-toggle" checked aria-describedby="autosave-help">
            <span class="checkmark" aria-hidden="true"></span>
            <span class="label-text">è‡ªå‹•ä¿å­˜</span>
          </label>
          <div id="autosave-help" class="setting-help">æ¯å®Œæˆä¸€é—œè‡ªå‹•ä¿å­˜é€²åº¦</div>
        </fieldset>
        
        <fieldset class="setting-group">
          <legend>é¡¯ç¤ºè¨­å®š</legend>
          
          <label class="setting-label">
            <input type="checkbox" id="high-contrast-toggle" aria-describedby="contrast-help">
            <span class="checkmark" aria-hidden="true"></span>
            <span class="label-text">é«˜å°æ¯”æ¨¡å¼</span>
          </label>
          <div id="contrast-help" class="setting-help">æé«˜æ–‡å­—å’ŒèƒŒæ™¯çš„å°æ¯”åº¦</div>
          
          <label class="setting-label">
            <span class="label-text">æ–‡å­—å¤§å°</span>
            <select id="font-size-select" aria-describedby="fontsize-help">
              <option value="small">å°</option>
              <option value="normal" selected>æ¨™æº–</option>
              <option value="large">å¤§</option>
              <option value="extra-large">ç‰¹å¤§</option>
            </select>
          </label>
          <div id="fontsize-help" class="setting-help">èª¿æ•´éŠæˆ²æ–‡å­—å¤§å°</div>
        </fieldset>
      </form>
      
      <div class="settings-actions">
        <button id="reset-game" class="settings-btn danger" type="button" aria-describedby="reset-help">
          é‡ç½®éŠæˆ²
        </button>
        <div id="reset-help" class="setting-help">æ¸…é™¤æ‰€æœ‰é€²åº¦å’Œè¨­å®šï¼Œé‡æ–°é–‹å§‹éŠæˆ²</div>
        
        <button id="export-save" class="settings-btn" type="button" aria-describedby="export-help">
          åŒ¯å‡ºå­˜æª”
        </button>
        <div id="export-help" class="setting-help">å°‡éŠæˆ²é€²åº¦åŒ¯å‡ºç‚ºæª”æ¡ˆ</div>
        
        <button id="import-save" class="settings-btn" type="button" aria-describedby="import-help">
          åŒ¯å…¥å­˜æª”
        </button>
        <div id="import-help" class="setting-help">å¾æª”æ¡ˆåŒ¯å…¥éŠæˆ²é€²åº¦</div>
        <input type="file" id="save-file-input" accept=".json" style="display: none;" aria-label="é¸æ“‡å­˜æª”æª”æ¡ˆ">
      </div>
    </div>
  </div>

  <!-- æˆå°±é€šçŸ¥ -->
  <div id="achievement-notification" class="achievement-notification hidden" role="alert" aria-live="assertive">
    <div class="achievement-content">
      <div class="achievement-icon" aria-hidden="true">ğŸ†</div>
      <div class="achievement-text">
        <div class="achievement-title">æˆå°±è§£é–ï¼</div>
        <div class="achievement-description"></div>
      </div>
      <button class="achievement-close" type="button" aria-label="é—œé–‰æˆå°±é€šçŸ¥">
        <span aria-hidden="true">âœ•</span>
      </button>
    </div>
  </div>

  <!-- ç¢ºèªå°è©±æ¡† -->
  <div id="confirm-dialog" class="confirm-dialog hidden" role="dialog" aria-labelledby="dialog-title" aria-describedby="dialog-message" aria-modal="true">
    <div class="dialog-backdrop" aria-hidden="true"></div>
    <div class="dialog-content">
      <h3 id="dialog-title" class="dialog-title">ç¢ºèªæ“ä½œ</h3>
      <p id="dialog-message" class="dialog-message"></p>
      <div class="dialog-actions">
        <button id="confirm-yes" class="dialog-btn primary" type="button">ç¢ºèª</button>
        <button id="confirm-no" class="dialog-btn" type="button">å–æ¶ˆ</button>
      </div>
    </div>
  </div>

  <!-- å¹«åŠ©é¢æ¿ -->
  <div id="help-panel" class="help-panel hidden" role="dialog" aria-labelledby="help-title" aria-modal="true">
    <div class="help-content">
      <header class="help-header">
        <h2 id="help-title">éŠæˆ²èªªæ˜</h2>
        <button id="close-help" class="close-btn" type="button" aria-label="é—œé–‰èªªæ˜é¢æ¿">
          <span aria-hidden="true">âœ•</span>
        </button>
      </header>
      
      <div class="help-sections">
        <section class="help-section">
          <h3>åŸºæœ¬æ“ä½œ</h3>
          <ul>
            <li><strong>/start</strong> - é–‹å§‹éŠæˆ²</li>
            <li><strong>/hint</strong> - ç²å–ç•¶å‰é—œå¡æç¤º</li>
            <li><strong>/status</strong> - æŸ¥çœ‹è©³ç´°ç‹€æ…‹</li>
            <li><strong>/save</strong> - ä¿å­˜éŠæˆ²é€²åº¦</li>
            <li><strong>/load</strong> - è¼‰å…¥éŠæˆ²é€²åº¦</li>
          </ul>
        </section>
        
        <section class="help-section">
          <h3>èª¿æŸ¥æŒ‡ä»¤</h3>
          <ul>
            <li><strong>æª¢æŸ¥ [ç‰©å“]</strong> - ä»”ç´°æª¢æŸ¥ç‰¹å®šç‰©å“</li>
            <li><strong>èª¿æŸ¥ [åœ°é»]</strong> - æ·±å…¥èª¿æŸ¥æŸå€‹åœ°é»</li>
            <li><strong>åˆ†æ [ç·šç´¢]</strong> - åˆ†æå·²æ”¶é›†çš„ç·šç´¢</li>
            <li><strong>å°è©± [è§’è‰²]</strong> - èˆ‡è§’è‰²é€²è¡Œå°è©±</li>
          </ul>
        </section>
        
        <section class="help-section">
          <h3>éŠæˆ²æŠ€å·§</h3>
          <ul>
            <li>ä»”ç´°é–±è®€æ¯å€‹å ´æ™¯çš„æè¿°</li>
            <li>æ”¶é›†æ‰€æœ‰ç·šç´¢ä»¥è§£é–éš±è—åŠ‡æƒ…</li>
            <li>æ³¨æ„è§’è‰²è­‰è©ä¸­çš„çŸ›ç›¾ä¹‹è™•</li>
            <li>å–„ç”¨æç¤ºç³»çµ±ï¼Œä½†è¦ç¯€ç´„ä½¿ç”¨</li>
          </ul>
        </section>
      </div>
    </div>
  </div>

  <!-- æµ®å‹•æŒ‰éˆ• -->
  <div class="floating-buttons">
    <button id="settings-btn" class="floating-btn settings-btn" type="button" aria-label="é–‹å•ŸéŠæˆ²è¨­å®š">
      <span class="btn-icon" aria-hidden="true">âš™ï¸</span>
    </button>

    <button id="help-btn" class="floating-btn help-btn" type="button" aria-label="é–‹å•ŸéŠæˆ²èªªæ˜">
      <span class="btn-icon" aria-hidden="true">â“</span>
    </button>

    <button id="fullscreen-btn" class="floating-btn fullscreen-btn" type="button" aria-label="åˆ‡æ›å…¨è¢å¹•æ¨¡å¼">
      <span class="btn-icon" aria-hidden="true">â›¶</span>
    </button>

    <button id="theme-toggle" class="floating-btn theme-btn" type="button" aria-label="åˆ‡æ›æ·±è‰²/æ·ºè‰²ä¸»é¡Œ">
      <span class="btn-icon" aria-hidden="true">ğŸŒ™</span>
    </button>
  </div>

  <!-- éŸ³æ•ˆæª”æ¡ˆ -->
  <audio id="thunder-sound" preload="metadata" aria-label="é›·è²éŸ³æ•ˆ">
    <source src="assets/sounds/thunder.mp3" type="audio/mpeg">
    <source src="assets/sounds/thunder.ogg" type="audio/ogg">
    <source src="assets/sounds/thunder.wav" type="audio/wav">
    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³æ•ˆæ’­æ”¾
  </audio>
  
  <audio id="ambient-sound" preload="metadata" loop aria-label="ç’°å¢ƒéŸ³æ¨‚">
    <source src="assets/sounds/ambient.mp3" type="audio/mpeg">
    <source src="assets/sounds/ambient.ogg" type="audio/ogg">
    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³æ•ˆæ’­æ”¾
  </audio>
  
  <audio id="success-sound" preload="metadata" aria-label="æˆåŠŸéŸ³æ•ˆ">
    <source src="assets/sounds/success.mp3" type="audio/mpeg">
    <source src="assets/sounds/success.ogg" type="audio/ogg">
    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³æ•ˆæ’­æ”¾
  </audio>
  
  <audio id="error-sound" preload="metadata" aria-label="éŒ¯èª¤éŸ³æ•ˆ">
    <source src="assets/sounds/error.mp3" type="audio/mpeg">
    <source src="assets/sounds/error.ogg" type="audio/ogg">
    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³æ•ˆæ’­æ”¾
  </audio>


  <!-- ç„¡ JavaScript æ™‚çš„æç¤º -->
  <noscript>
    <div class="noscript-warning">
      <h2>éœ€è¦å•Ÿç”¨ JavaScript</h2>
      <p>æ­¤éŠæˆ²éœ€è¦ JavaScript æ‰èƒ½æ­£å¸¸é‹ä½œã€‚è«‹åœ¨ç€è¦½å™¨è¨­å®šä¸­å•Ÿç”¨ JavaScript å¾Œé‡æ–°è¼‰å…¥é é¢ã€‚</p>
    </div>
  </noscript>

  <!-- è¼‰å…¥é—œéµ JavaScript -->
  <script>
    // é—œéµè·¯å¾‘ JavaScript - ç«‹å³åŸ·è¡Œ
    (function() {
      // æª¢æ¸¬ç€è¦½å™¨åŠŸèƒ½
      const features = {
        localStorage: typeof Storage !== 'undefined',
        audioContext: typeof AudioContext !== 'undefined' || typeof webkitAudioContext !== 'undefined',
        webGL: !!window.WebGLRenderingContext,
        serviceWorker: 'serviceWorker' in navigator
      };
      
      // è¨­å®šå…¨åŸŸè®Šæ•¸
      window.gameFeatures = features;
      window.gameStartTime = Date.now();
      
      // é è¼‰å…¥é—œéµè³‡æº
      if (features.localStorage) {
        try {
          const savedTheme = localStorage.getItem('halloween_theme') || 'dark';
          document.body.setAttribute('data-theme', savedTheme);
        } catch (e) {
          console.warn('ç„¡æ³•è®€å–ä¸»é¡Œè¨­å®š:', e);
        }
      }
      
      // è¨­å®šéŒ¯èª¤è™•ç†
      window.addEventListener('error', function(e) {
        console.error('éŠæˆ²éŒ¯èª¤:', e.error);
        // å¯ä»¥åœ¨é€™è£¡æ·»åŠ éŒ¯èª¤å›å ±é‚è¼¯
      });
      
      // è¨­å®šæœªè™•ç†çš„ Promise æ‹’çµ•
      window.addEventListener('unhandledrejection', function(e) {
        console.error('æœªè™•ç†çš„ Promise æ‹’çµ•:', e.reason);
        e.preventDefault();
      });
    })();
  </script>

  <!-- ä¸»è¦éŠæˆ²é‚è¼¯ -->
  <script src="scripts/app.js" defer></script>
  
  <!-- Service Worker è¨»å†Š -->
  <script>
    // Service Worker è¨»å†Šï¼ˆéé—œéµè·¯å¾‘ï¼‰
    if ('serviceWorker' in navigator && window.location.protocol === 'https:') {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js')
          .then(function(registration) {
            console.log('Service Worker è¨»å†ŠæˆåŠŸ:', registration.scope);
            
            // æª¢æŸ¥æ›´æ–°
            registration.addEventListener('updatefound', function() {
              const newWorker = registration.installing;
              newWorker.addEventListener('statechange', function() {
                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                  // æœ‰æ–°ç‰ˆæœ¬å¯ç”¨
                  if (confirm('éŠæˆ²æœ‰æ–°ç‰ˆæœ¬å¯ç”¨ï¼Œæ˜¯å¦é‡æ–°è¼‰å…¥ï¼Ÿ')) {
                    window.location.reload();
                  }
                }
              });
            });
          })
          .catch(function(error) {
            console.log('Service Worker è¨»å†Šå¤±æ•—:', error);
          });
      });
    }
  </script>

  <!-- åˆ†æä»£ç¢¼ï¼ˆå¯é¸ï¼‰ -->
  <script>
    // Google Analytics æˆ–å…¶ä»–åˆ†æå·¥å…·
    // åªåœ¨ç”Ÿç”¢ç’°å¢ƒè¼‰å…¥
    if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
      // åœ¨é€™è£¡æ·»åŠ åˆ†æä»£ç¢¼
    }
  </script>
</body>
</html>
